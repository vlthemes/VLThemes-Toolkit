const E=[];let L;function z(g){E.length&&(clearTimeout(L),L=setTimeout(()=>{E.forEach(e=>{typeof e=="function"&&e(g)})},250))}function R(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function v(g){if(typeof g=="function")E.includes(g)||E.push(g);else if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else if(document.createEvent){const e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}function A(){window.addEventListener("load",z),window.addEventListener("resize",z),window.addEventListener("orientationchange",z)}class M{constructor({isMobileDevice:e,debounceResize:n}){this.isMobileDevice=e,this.debounceResize=n,this.initialized=!1}init(){if(typeof AOS>"u"){console.warn("AOS library not loaded");return}if(this.isMobileDevice()){console.info("AOS disabled on mobile device");return}AOS.init({offset:150,duration:1e3,easing:"ease",once:!0,mirror:!1,disable:function(){return window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}}),this.initialized=!0,console.info("AOS initialized")}refresh(){this.initialized&&typeof AOS<"u"&&AOS.refresh()}refreshHard(){this.initialized&&typeof AOS<"u"&&AOS.refreshHard()}setupRefreshHandlers(){this.debounceResize(()=>{this.refresh()}),document.addEventListener("endLoadingNewItems.vpf",()=>{this.refreshHard()}),window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",n=>{this.refresh()})})}}class C{constructor({isMobileDevice:e,debounceResize:n}){this.isMobileDevice=e,this.debounceResize=n,this.initialized=!1,this.defaultSpeed=.8}init(){if(typeof jarallax>"u"){console.warn("Jarallax library not loaded");return}if(this.isMobileDevice()){console.info("Jarallax disabled on mobile device");return}const e=this.getJarallaxElements();e.length!==0&&(jarallax(e,{speed:this.defaultSpeed}),this.initialized=!0,console.info(`Jarallax initialized on ${e.length} elements`))}getJarallaxElements(){const e=[".jarallax",".elementor-section.jarallax",".elementor-column.jarallax > .elementor-column-wrap",".elementor-container.jarallax"];return document.querySelectorAll(e.join(", "))}destroy(){if(!this.initialized||typeof jarallax>"u")return;const e=this.getJarallaxElements();e.length>0&&(jarallax(e,"destroy"),this.initialized=!1,console.info("Jarallax destroyed"))}refresh(){if(!this.initialized||typeof jarallax>"u")return;const e=this.getJarallaxElements();e.length>0&&(jarallax(e,"destroy"),jarallax(e,{speed:this.defaultSpeed}))}setupRefreshHandlers(){this.debounceResize(()=>{this.refresh()}),window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",()=>{setTimeout(()=>{this.refresh()},100)})})}}class D{constructor({isMobileDevice:e,debounceResize:n}){this.isMobileDevice=e,this.debounceResize=n,this.initialized=!1,this.triggers=[]}init(){if(typeof gsap>"u"||typeof ScrollTrigger>"u"){console.warn("GSAP or ScrollTrigger not loaded");return}if(this.isMobileDevice()){console.info("Element Parallax disabled on mobile device");return}this.initParallax(),this.initialized=!0,console.info("Element Parallax initialized")}parseParallax(e){const t=(e.getAttribute("data-element-parallax")||"").trim().split(/\s+/);return{y:t[0]?parseFloat(t[0]):0,x:t[1]?parseFloat(t[1]):0}}parseOpacity(e){const t=(e.getAttribute("data-element-opacity")||"").trim().split(/\s+/),s=t[0]?parseFloat(t[0]):null;return{start:s,end:t[1]?parseFloat(t[1]):s}}parseScale(e){const t=(e.getAttribute("data-element-scale")||"").trim().split(/\s+/),s=t[0]?parseFloat(t[0]):null;return{start:s,end:t[1]?parseFloat(t[1]):s}}parseThreshold(e){const t=(e.getAttribute("data-element-threshold")||"").trim().split(/\s+/);return{y:t[0]?parseFloat(t[0]):null,x:t[1]?parseFloat(t[1]):null}}getWindowInfo(){return{scrollY:window.pageYOffset||document.documentElement.scrollTop||0,height:window.innerHeight||document.documentElement.clientHeight||0}}updateElementTransform(e,n,t,s,i,o,l,r,d){const{scrollY:c,height:y}=this.getWindowInfo(),x=e._parallaxData||{},w=e.getBoundingClientRect();e._parallaxData={width:w.width,height:w.height,y:w.top+c,x:w.left};const m=(c+y/2-x.y-x.height/2)/(y/2),u=Math.abs(m);let h=n?(m<0?-1:1)*gsap.utils.interpolate(0,n,u):0,f=t?(m<0?-1:1)*gsap.utils.interpolate(0,t,u):0;r!=null&&Math.abs(h)>r&&(h=0),d!=null&&Math.abs(f)>d&&(f=0);const p={x:f,y:h,force3D:!0};s!=null&&i!=null&&(p.opacity=gsap.utils.interpolate(s,i,u)),o!=null&&l!=null&&(p.scale=gsap.utils.interpolate(o,l,u)),gsap.set(e,p)}initParallax(e=null){const n=e||document,t=[];return n.querySelectorAll(".vlt-element-parallax").forEach(i=>{if(i._parallaxInitialized)return;const{y:o,x:l}=this.parseParallax(i),{start:r,end:d}=this.parseOpacity(i),{start:c,end:y}=this.parseScale(i),{y:x,x:w}=this.parseThreshold(i);if(!o&&!l&&r===null&&c===null)return;gsap.set(i,{x:0,y:0,opacity:r??1,scale:c??1,transition:"none",force3D:!0});const a=i.getAttribute("data-element-parallax-parent"),m=a?i.closest(a)||document.querySelector(a):null;if(m){const u=i.getAttribute("data-element-start")||"top top",h=i.getAttribute("data-element-end")||"bottom top",f={...o&&{y:o},...l&&{x:l},...d!==null&&{opacity:d},...y!==null&&{scale:y}},p=gsap.fromTo(i,{x:0,y:0,opacity:r??1,scale:c??1},{...f,immediateRender:!1,scrollTrigger:{trigger:m,start:u,end:h,scrub:!0,invalidateOnRefresh:!0}});t.push(p.scrollTrigger),i._resizeBound||(i._resizeBound=!0,this.debounceResize(()=>{var b;return(b=p.scrollTrigger)==null?void 0:b.refresh()}))}else{const u=()=>{const p=i.getBoundingClientRect();i._parallaxData={width:p.width,height:p.height,y:p.top+this.getWindowInfo().scrollY,x:p.left}};u();const h=()=>this.updateElementTransform(i,o,l,r,d,c,y,x,w);h();const f=ScrollTrigger.create({start:"top bottom",end:"bottom top",scrub:!0,invalidateOnRefresh:!0,onRefresh:()=>{u(),h()},onUpdate:h});t.push(f),i._resizeBound||(i._resizeBound=!0,this.debounceResize(()=>{u(),f==null||f.refresh(),h()})),i._parallaxUpdate=h,i._parallaxScrollTrigger=f}i._parallaxInitialized=!0,i.style.willChange="transform, opacity"}),this.triggers.push(...t),t}refresh(){this.initialized&&this.triggers.forEach(e=>{e!=null&&e.refresh&&e.refresh()})}setupRefreshHandlers(){window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",n=>{const t=n instanceof HTMLElement?n:n[0],s=this.initParallax(t);setTimeout(()=>{s.forEach(i=>i==null?void 0:i.refresh())},150)})})}destroy(){this.triggers.forEach(e=>{e!=null&&e.kill&&e.kill()}),this.triggers=[],this.initialized=!1}}class H{constructor({debounceResize:e}){this.debounceResize=e,this.initialized=!1}init(){typeof elementorFrontend>"u"||(this.initialized=!0,console.info("Container Extensions initialized"))}stickyContainerInit(e){if(!e.classList.contains("has-sticky-column"))return;const n=e.closest(".e-parent");n&&n.classList.add("sticky-parent");const t=Array.from(e.children).filter(s=>s.classList.contains("elementor-element"));if(t.length>0){const s=document.createElement("div");s.className="sticky-column",e.insertBefore(s,t[0]),t.forEach(i=>{s.appendChild(i)})}}getCurrentDevice(){return typeof elementorFrontend<"u"&&elementorFrontend.getCurrentDeviceMode?elementorFrontend.getCurrentDeviceMode():"desktop"}parseDataAttribute(e){try{return JSON.parse(e)||[]}catch{return[]}}paddingToContainerInit(e){const n=e.classList.contains("has-padding-block-to-left"),t=e.classList.contains("has-padding-block-to-right");if(!n&&!t)return;const s=()=>{const i=e.getAttribute("data-reset-padding-to-container-on-devices")||"[]",o=this.parseDataAttribute(i),l=this.getCurrentDevice(),r=document.querySelector(".container");r||(r=document.createElement("div"),r.className="container",document.body.appendChild(r));const d=r.getBoundingClientRect().left+parseFloat(getComputedStyle(r).paddingLeft);if(o.includes(l)){e.style.paddingLeft="",e.style.paddingRight="";return}n&&(e.style.paddingLeft=d+"px"),t&&(e.style.paddingRight=d+"px")};s(),this.debounceResize(s)}equalHeightContainerInit(e){if(!e.classList.contains("has-equal-height-block-yes"))return;const n=()=>{const t=e.getAttribute("data-reset-equal-height-on-devices")||"[]",s=this.parseDataAttribute(t),i=this.getCurrentDevice(),o=e.querySelectorAll(".elementor-widget-container > div");if(o.length===0)return;if(s.includes(i)){o.forEach(r=>{r.style.height="",r.style.minHeight=""});return}o.forEach(r=>{r.style.height="",r.style.minHeight=""});let l=0;o.forEach(r=>{const d=r.offsetHeight;d>l&&(l=d)}),o.forEach(r=>{r.style.height=l+"px"})};n(),this.debounceResize(n)}stretchContainerInit(e){const n=e.classList.contains("has-stretch-block-to-left"),t=e.classList.contains("has-stretch-block-to-right"),s=e.classList.contains("has-stretch-block-to-container");if(!n&&!t&&!s)return;const i=()=>{const o=window.innerWidth,l=e.getAttribute("data-reset-on-devices")||"[]",r=this.parseDataAttribute(l),d=this.getCurrentDevice(),c=e.getBoundingClientRect(),y=c.left,x=o-c.right,w=c.width,a=e.querySelector(":scope > *");if(a){if(r.includes(d)){a.style.marginLeft="",a.style.marginRight="",a.style.maxWidth="",a.style.width="";return}if(n)a.style.marginLeft=-Math.round(y)+"px",a.style.maxWidth="unset",a.style.width=Math.round(w+y)+"px";else if(t)a.style.marginRight=-Math.round(x)+"px",a.style.maxWidth="unset",a.style.width=Math.round(w+x)+"px";else if(s){const m=document.querySelector(".vlt-fake-container");if(m){const u=m.getBoundingClientRect(),h=getComputedStyle(m),f=parseFloat(h.paddingLeft)||0,p=parseFloat(h.paddingRight)||0,b=c.left-u.left-f,S=u.right-c.right-p;a.style.marginLeft=-Math.round(b)+"px",a.style.marginRight=-Math.round(S)+"px",a.style.width=Math.round(c.width+b+S)+"px",a.style.maxWidth="unset"}}}};document.dispatchEvent(new CustomEvent("vlt.element-parallax")),i(),this.debounceResize(i)}setupRefreshHandlers(){window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",n=>{const t=n instanceof HTMLElement?n:n[0];t&&(this.stretchContainerInit(t),this.paddingToContainerInit(t),this.stickyContainerInit(t),this.equalHeightContainerInit(t))})})}}(function(){A();const g=new M({isMobileDevice:R,debounceResize:v}),e=new C({isMobileDevice:R,debounceResize:v}),n=new D({isMobileDevice:R,debounceResize:v}),t=new H({debounceResize:v});function s(){g.init(),g.setupRefreshHandlers(),e.init(),e.setupRefreshHandlers(),n.init(),n.setupRefreshHandlers(),t.init(),t.setupRefreshHandlers(),document.dispatchEvent(new CustomEvent("vlt.site-loaded")),console.info("VLT Helper initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s()})();
