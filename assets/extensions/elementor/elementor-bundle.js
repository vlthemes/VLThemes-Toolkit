class E{constructor({isMobileDevice:e,debounceResize:i}){this.isMobileDevice=e,this.debounceResize=i,this.initialized=!1}init(){if(typeof AOS>"u"){console.warn("AOS library not loaded");return}if(this.isMobileDevice()){console.info("AOS disabled on mobile device");return}AOS.init({offset:150,duration:1e3,easing:"ease",once:!0,mirror:!1,disable:function(){return window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}}),this.initialized=!0,console.info("AOS initialized")}refresh(){this.initialized&&typeof AOS<"u"&&AOS.refresh()}refreshHard(){this.initialized&&typeof AOS<"u"&&AOS.refreshHard()}setupRefreshHandlers(){this.debounceResize(()=>{this.refresh()}),document.addEventListener("endLoadingNewItems.vpf",()=>{this.refreshHard()}),window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",i=>{this.refresh()})})}}class z{constructor({isMobileDevice:e,debounceResize:i}){this.isMobileDevice=e,this.debounceResize=i,this.initialized=!1,this.defaultSpeed=.8}init(){if(typeof jarallax>"u"){console.warn("Jarallax library not loaded");return}if(this.isMobileDevice()){console.info("Jarallax disabled on mobile device");return}const e=this.getJarallaxElements();e.length!==0&&(jarallax(e,{speed:this.defaultSpeed}),this.initialized=!0,console.info(`Jarallax initialized on ${e.length} elements`))}getJarallaxElements(){const e=[".jarallax",".elementor-section.jarallax",".elementor-column.jarallax > .elementor-column-wrap",".elementor-container.jarallax"];return document.querySelectorAll(e.join(", "))}destroy(){if(!this.initialized||typeof jarallax>"u")return;const e=this.getJarallaxElements();e.length>0&&(jarallax(e,"destroy"),this.initialized=!1,console.info("Jarallax destroyed"))}refresh(){if(!this.initialized||typeof jarallax>"u")return;const e=this.getJarallaxElements();e.length>0&&(jarallax(e,"destroy"),jarallax(e,{speed:this.defaultSpeed}))}setupRefreshHandlers(){this.debounceResize(()=>{this.refresh()}),window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",()=>{setTimeout(()=>{this.refresh()},100)})})}}class R{constructor({isMobileDevice:e,debounceResize:i}){this.isMobileDevice=e,this.debounceResize=i,this.initialized=!1,this.triggers=[]}init(){if(typeof gsap>"u"||typeof ScrollTrigger>"u"){console.warn("GSAP or ScrollTrigger not loaded");return}if(this.isMobileDevice()){console.info("Element Parallax disabled on mobile device");return}this.initParallax(),this.initialized=!0,console.info("Element Parallax initialized")}parseParallax(e){const t=(e.getAttribute("data-element-parallax")||"").trim().split(/\s+/);return{y:t[0]?parseFloat(t[0]):0,x:t[1]?parseFloat(t[1]):0}}parseOpacity(e){const t=(e.getAttribute("data-element-opacity")||"").trim().split(/\s+/),s=t[0]?parseFloat(t[0]):null;return{start:s,end:t[1]?parseFloat(t[1]):s}}parseScale(e){const t=(e.getAttribute("data-element-scale")||"").trim().split(/\s+/),s=t[0]?parseFloat(t[0]):null;return{start:s,end:t[1]?parseFloat(t[1]):s}}parseThreshold(e){const t=(e.getAttribute("data-element-threshold")||"").trim().split(/\s+/);return{y:t[0]?parseFloat(t[0]):null,x:t[1]?parseFloat(t[1]):null}}getWindowInfo(){return{scrollY:window.pageYOffset||document.documentElement.scrollTop||0,height:window.innerHeight||document.documentElement.clientHeight||0}}updateElementTransform(e,i,t,s,n,a,d,r,c){const{scrollY:o,height:h}=this.getWindowInfo(),x=e._parallaxData||{},y=e.getBoundingClientRect();e._parallaxData={width:y.width,height:y.height,y:y.top+o,x:y.left};const m=(o+h/2-x.y-x.height/2)/(h/2),f=Math.abs(m);let u=i?(m<0?-1:1)*gsap.utils.interpolate(0,i,f):0,p=t?(m<0?-1:1)*gsap.utils.interpolate(0,t,f):0;r!=null&&Math.abs(u)>r&&(u=0),c!=null&&Math.abs(p)>c&&(p=0);const g={x:p,y:u,force3D:!0};s!=null&&n!=null&&(g.opacity=gsap.utils.interpolate(s,n,f)),a!=null&&d!=null&&(g.scale=gsap.utils.interpolate(a,d,f)),gsap.set(e,g)}initParallax(e=null){const i=e||document,t=[];return i.querySelectorAll(".vlt-element-parallax").forEach(n=>{if(n._parallaxInitialized)return;const{y:a,x:d}=this.parseParallax(n),{start:r,end:c}=this.parseOpacity(n),{start:o,end:h}=this.parseScale(n),{y:x,x:y}=this.parseThreshold(n);if(!a&&!d&&r===null&&o===null)return;gsap.set(n,{x:0,y:0,opacity:r??1,scale:o??1,transition:"none",force3D:!0});const l=n.getAttribute("data-element-parallax-parent"),m=l?n.closest(l)||document.querySelector(l):null;if(m){const f=n.getAttribute("data-element-start")||"top top",u=n.getAttribute("data-element-end")||"bottom top",p={...a&&{y:a},...d&&{x:d},...c!==null&&{opacity:c},...h!==null&&{scale:h}},g=gsap.fromTo(n,{x:0,y:0,opacity:r??1,scale:o??1},{...p,immediateRender:!1,scrollTrigger:{trigger:m,start:f,end:u,scrub:!0,invalidateOnRefresh:!0}});t.push(g.scrollTrigger),n._resizeBound||(n._resizeBound=!0,this.debounceResize(()=>{var b;return(b=g.scrollTrigger)==null?void 0:b.refresh()}))}else{const f=()=>{const g=n.getBoundingClientRect();n._parallaxData={width:g.width,height:g.height,y:g.top+this.getWindowInfo().scrollY,x:g.left}};f();const u=()=>this.updateElementTransform(n,a,d,r,c,o,h,x,y);u();const p=ScrollTrigger.create({start:"top bottom",end:"bottom top",scrub:!0,invalidateOnRefresh:!0,onRefresh:()=>{f(),u()},onUpdate:u});t.push(p),n._resizeBound||(n._resizeBound=!0,this.debounceResize(()=>{f(),p==null||p.refresh(),u()})),n._parallaxUpdate=u,n._parallaxScrollTrigger=p}n._parallaxInitialized=!0,n.style.willChange="transform, opacity"}),this.triggers.push(...t),t}refresh(){this.initialized&&this.triggers.forEach(e=>{e!=null&&e.refresh&&e.refresh()})}setupRefreshHandlers(){window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",i=>{const t=i instanceof HTMLElement?i:i[0],s=this.initParallax(t);setTimeout(()=>{s.forEach(n=>n==null?void 0:n.refresh())},150)})})}destroy(){this.triggers.forEach(e=>{e!=null&&e.kill&&e.kill()}),this.triggers=[],this.initialized=!1}}class S{constructor({debounceResize:e}){this.debounceResize=e,this.initialized=!1}init(){typeof elementorFrontend>"u"||(this.initialized=!0,console.info("Container Extensions initialized"))}stickyContainerInit(e){if(!e.classList.contains("has-sticky-column"))return;const i=e.closest(".e-parent");i&&i.classList.add("sticky-parent");const t=Array.from(e.children).filter(s=>s.classList.contains("elementor-element"));if(t.length>0){const s=document.createElement("div");s.className="sticky-column",e.insertBefore(s,t[0]),t.forEach(n=>{s.appendChild(n)})}}getCurrentDevice(){return typeof elementorFrontend<"u"&&elementorFrontend.getCurrentDeviceMode?elementorFrontend.getCurrentDeviceMode():"desktop"}parseDataAttribute(e){try{return JSON.parse(e)||[]}catch{return[]}}paddingToContainerInit(e){const i=e.classList.contains("has-padding-block-to-left"),t=e.classList.contains("has-padding-block-to-right");if(!i&&!t)return;const s=()=>{const n=e.getAttribute("data-reset-padding-to-container-on-devices")||"[]",a=this.parseDataAttribute(n),d=this.getCurrentDevice(),r=document.querySelector(".container");r||(r=document.createElement("div"),r.className="container",document.body.appendChild(r));const c=r.getBoundingClientRect().left+parseFloat(getComputedStyle(r).paddingLeft);if(a.includes(d)){e.style.paddingLeft="",e.style.paddingRight="";return}i&&(e.style.paddingLeft=c+"px"),t&&(e.style.paddingRight=c+"px")};s(),this.debounceResize(s)}equalHeightContainerInit(e){if(!e.classList.contains("has-equal-height-block-yes"))return;const i=()=>{const t=e.getAttribute("data-reset-equal-height-on-devices")||"[]",s=this.parseDataAttribute(t),n=this.getCurrentDevice(),a=e.querySelectorAll(".elementor-widget-container > div");if(a.length===0)return;if(s.includes(n)){a.forEach(r=>{r.style.height="",r.style.minHeight=""});return}a.forEach(r=>{r.style.height="",r.style.minHeight=""});let d=0;a.forEach(r=>{const c=r.offsetHeight;c>d&&(d=c)}),a.forEach(r=>{r.style.height=d+"px"})};i(),this.debounceResize(i)}stretchContainerInit(e){const i=e.classList.contains("has-stretch-block-to-left"),t=e.classList.contains("has-stretch-block-to-right"),s=e.classList.contains("has-stretch-block-to-container");if(!i&&!t&&!s)return;const n=()=>{const a=window.innerWidth,d=e.getAttribute("data-reset-on-devices")||"[]",r=this.parseDataAttribute(d),c=this.getCurrentDevice(),o=e.getBoundingClientRect(),h=o.left,x=a-o.right,y=o.width,l=e.querySelector(":scope > *");if(l){if(r.includes(c)){l.style.marginLeft="",l.style.marginRight="",l.style.maxWidth="",l.style.width="";return}if(i)l.style.marginLeft=-Math.round(h)+"px",l.style.maxWidth="unset",l.style.width=Math.round(y+h)+"px";else if(t)l.style.marginRight=-Math.round(x)+"px",l.style.maxWidth="unset",l.style.width=Math.round(y+x)+"px";else if(s){const m=document.querySelector(".vlt-fake-container");if(m){const f=m.getBoundingClientRect(),u=getComputedStyle(m),p=parseFloat(u.paddingLeft)||0,g=parseFloat(u.paddingRight)||0,b=o.left-f.left-p,v=f.right-o.right-g;l.style.marginLeft=-Math.round(b)+"px",l.style.marginRight=-Math.round(v)+"px",l.style.width=Math.round(o.width+b+v)+"px",l.style.maxWidth="unset"}}}};document.dispatchEvent(new CustomEvent("vlt.element-parallax")),n(),this.debounceResize(n)}setupRefreshHandlers(){window.addEventListener("elementor/frontend/init",()=>{var e;(e=window.elementorFrontend)!=null&&e.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/global",i=>{const t=i instanceof HTMLElement?i:i[0];t&&(this.stretchContainerInit(t),this.paddingToContainerInit(t),this.stickyContainerInit(t),this.equalHeightContainerInit(t))})})}}(function(){const w=[];let e;function i(o){w.length&&(clearTimeout(e),e=setTimeout(()=>{w.forEach(h=>{typeof h=="function"&&h(o)})},250))}window.addEventListener("load",i),window.addEventListener("resize",i),window.addEventListener("orientationchange",i);function t(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function s(o){if(typeof o=="function")w.includes(o)||w.push(o);else if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else if(document.createEvent){const h=document.createEvent("UIEvents");h.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(h)}}const n=new E({isMobileDevice:t,debounceResize:s}),a=new z({isMobileDevice:t,debounceResize:s}),d=new R({isMobileDevice:t,debounceResize:s}),r=new S({debounceResize:s});function c(){n.init(),n.setupRefreshHandlers(),a.init(),a.setupRefreshHandlers(),d.init(),d.setupRefreshHandlers(),r.init(),r.setupRefreshHandlers(),document.dispatchEvent(new CustomEvent("vlt.site-loaded")),console.info("VLT Framework initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c()})();
